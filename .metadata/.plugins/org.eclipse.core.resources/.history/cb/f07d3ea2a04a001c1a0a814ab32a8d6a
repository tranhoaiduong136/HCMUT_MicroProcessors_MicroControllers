/*
 * traffic_led.c
 *
 *  Created on: Nov 21, 2021
 *      Author: Duong
 */
#include"main.h"
#include"traffic_led.h"
void initLED(void){
	HAL_GPIO_WritePin(GPIOA, RED1, OFF);
	HAL_GPIO_WritePin(GPIOA, YELLOW1, OFF);
	HAL_GPIO_WritePin(GPIOA, GREEN1, OFF);
	HAL_GPIO_WritePin(GPIOA, RED2, OFF);
	HAL_GPIO_WritePin(GPIOA, YELLOW2, OFF);
	HAL_GPIO_WritePin(GPIOA, GREEN2, OFF);
	 // Set first limit
	 limit1 = counterBuffer[color1];
	 limit2 = counterBuffer[color2];
}
void trafficLIGHTStart(int led,int idx){
	  HAL_GPIO_WritePin(GPIOA, typeLED[led][idx], ON);
}
void trafficLIGHTChangeColor(int led,int idx){
	HAL_GPIO_WritePin(GPIOA, typeLED[(led)%3][idx], OFF);
	HAL_GPIO_WritePin(GPIOA, typeLED[(led+1)%3][idx], ON);
}

